(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{496:function(t,a,s){"use strict";s.r(a);var e=s(2),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"目录1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录1"}},[t._v("#")]),t._v(" 目录1")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExecutorService")]),t._v(" threadPool "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Executors")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("newFixedThreadPool")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nthreadPool"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("submit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("ol",[s("li",[t._v("开始时线程池是空的")]),t._v(" "),s("li",[t._v("如果线程数小于 corePoolSize，创建线程执行任务")]),t._v(" "),s("li",[t._v("线程数达到 corePoolSize，任务进入阻塞队列，线程处理完任务后，从阻塞队列获取新的任务")])]),t._v(" "),s("h2",{attrs:{id:"目录2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录2"}},[t._v("#")]),t._v(" 目录2")]),t._v(" "),s("p",[t._v("大量任务进入有界队列，有界队列满了，额外创建线程，做多 maxPoolSize")]),t._v(" "),s("p",[t._v("队列任务空了后，额外的线程空闲 keepAliveTime 时间后，销毁")]),t._v(" "),s("h3",{attrs:{id:"目录3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录3"}},[t._v("#")]),t._v(" 目录3")]),t._v(" "),s("p",[t._v("额外线程也很繁忙怎么办？执行 reject 策略")]),t._v(" "),s("p",[t._v("线程池中使用无界阻塞队列会发生什么问题?")]),t._v(" "),s("p",[t._v("远程服务异常情况下，使用无界阻塞队列是否会导致内存飙升？")]),t._v(" "),s("p",[t._v("会内存飙升，OOM")]),t._v(" "),s("p",[t._v("线程池队列满了后，会发生什么？")]),t._v(" "),s("p",[t._v("线程数小于 maxPoolSize 时，会创建额外线程")]),t._v(" "),s("p",[t._v("线上机器突然宕机，线程池的阻塞队列中的请求怎么办？")]),t._v(" "),s("p",[t._v("积压的任务会丢失。提交任务到线程池里去，在提交前，先在数据库插入任务的信息，更新状态。系统重启后，读取数据库未提交和已提交未完成状态的任务，把任务的信息读取出来，重新提交到线程池，继续执行。")])])}),[],!1,null,null,null);a.default=n.exports}}]);